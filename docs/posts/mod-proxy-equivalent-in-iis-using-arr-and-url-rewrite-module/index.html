<!doctype html><html lang=en><head><title>Mod Proxy equivalent in IIS using ARR and URL Rewrite Module ::
Varun Pant</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="IIS7 is quite modular, it is shipped with lots of goodies as separate modules and together it is now one of the most powerful and flexible web server.
In this post I intent to cover how we can easily configure ARR and URL Rewrite Module to get a similar functionality as of Mod Proxy in Apache.
Here I will demonstrate configuration of a reverse proxy which according to the definition is
Reverse proxy is a type of proxy server that retrieves resources on behalf of a client from one or more servers. A general use case to configure such proxies could be to handle cross domain Ajax requests, so basically if I would like to call a service hosted as http://anotherdomain.com/service from http://localdomain/service I would need to configure a proxy which will request resources from anotherdomain.com/service on behalf of localdomain ### Configuration
"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://varunpant.com/posts/mod-proxy-equivalent-in-iis-using-arr-and-url-rewrite-module/><link type=application/opensearchdescription+xml rel=search title="Varun Pant" href=//www.varunpant.com/opensearch.axd><link rel=me type=text/html href="//plus.google.com/108455320594011020517?rel=me"><link rel=me type=text/html href=//varunpant.com/feed><link rel=me type=text/html href=//twitter.com/varunpant><link rel=me type=text/html href=//www.facebook.com/varun.pant><meta name=msvalidate.01 content="B96ED99B0213B547253C91D27272A5E4"><meta name=google-site-verification content="yu9tlev9-FkUUc0UkPrKP-8ren886--1FcSINU0TJDY"><meta http-equiv=X-XRDS-Location content="//www.myopenid.com/xrds?username=varunpant.myopenid.com"><meta name=syndication content="//feeds.feedburner.com/varun.pant"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://varunpant.com/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://varunpant.com/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://varunpant.com/img/favicon.png><link href=/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Mod Proxy equivalent in IIS using ARR and URL Rewrite Module"><meta name=twitter:description content="IIS7 is quite modular, it is shipped with lots of goodies as separate modules and together it is now one of the most powerful and flexible web server.
In this post I intent to cover how we can easily configure ARR and URL Rewrite Module to get a similar functionality as of Mod Proxy in Apache.
Here I will demonstrate configuration of a reverse proxy which according to the definition is
Reverse proxy is a type of proxy server that retrieves resources on behalf of a client from one or more servers. A general use case to configure such proxies could be to handle cross domain Ajax requests, so basically if I would like to call a service hosted as http://anotherdomain.com/service from http://localdomain/service I would need to configure a proxy which will request resources from anotherdomain.com/service on behalf of localdomain ### Configuration"><meta property="og:url" content="https://varunpant.com/posts/mod-proxy-equivalent-in-iis-using-arr-and-url-rewrite-module/"><meta property="og:site_name" content="Varun Pant"><meta property="og:title" content="Mod Proxy equivalent in IIS using ARR and URL Rewrite Module"><meta property="og:description" content="IIS7 is quite modular, it is shipped with lots of goodies as separate modules and together it is now one of the most powerful and flexible web server.
In this post I intent to cover how we can easily configure ARR and URL Rewrite Module to get a similar functionality as of Mod Proxy in Apache.
Here I will demonstrate configuration of a reverse proxy which according to the definition is
Reverse proxy is a type of proxy server that retrieves resources on behalf of a client from one or more servers. A general use case to configure such proxies could be to handle cross domain Ajax requests, so basically if I would like to call a service hosted as http://anotherdomain.com/service from http://localdomain/service I would need to configure a proxy which will request resources from anotherdomain.com/service on behalf of localdomain ### Configuration"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-08-25T00:00:00+00:00"><meta property="article:modified_time" content="2013-08-25T00:00:00+00:00"><meta property="article:tag" content=".Net"><meta property="article:tag" content="Utility"><meta property="article:tag" content="Web"><meta property="article:tag" content="How To"><meta property="article:tag" content="Iis"><section><div id=ta class=advert><script type=text/javascript>google_ad_client="ca-pub-1110730152886910",google_ad_slot="7384719372",google_ad_width=468,google_ad_height=60</script><script type=text/javascript src=//pagead2.googlesyndication.com/pagead/show_ads.js></script></div></section></head><body class=light-theme><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span><span class=logo__text>Varun Pant</span>
<span class=logo__cursor></span>
</a><span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about>About</a></li><li><a href=/archives>Archives</a></li><li><a href=/feed.xml>Feed</a></li><li><a href=/showcase>Showcase</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about>About</a></li><li><a href=/archives>Archives</a></li><li><a href=/feed.xml>Feed</a></li><li><a href=/showcase>Showcase</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><article class=post><h1 class=post-title>Mod Proxy equivalent in IIS using ARR and URL Rewrite Module</h1><div class=post-meta><time class=post-date>2013-08-25
</time><span class=post-author>— Written by </span><span class=post-read-time>— 2 min read</span></div><span class=post-tags><a href=https://varunpant.com/tags/.net/>#.net</a>&nbsp;
<a href=https://varunpant.com/tags/utility/>#utility</a>&nbsp;
<a href=https://varunpant.com/tags/web/>#web</a>&nbsp;
<a href=https://varunpant.com/tags/how-to/>#how to</a>&nbsp;
<a href=https://varunpant.com/tags/iis/>#iis</a>&nbsp;</span><div class=post-content><p>IIS7 is quite modular, it is <a href=http://blogs.iis.net/bills/archive/2008/06/02/how-iis-ships-software.aspx>shipped</a> with lots of goodies as separate modules and together it is now one of the most powerful and flexible web server.</p><p>In this post I intent to cover how we can easily configure <a href=http://www.iis.net/downloads/microsoft/application-request-routing>ARR</a> and <a href="http://www.microsoft.com/en-gb/download/details.aspx?id=7435">URL Rewrite Module</a> to get a similar functionality as of <a href=http://httpd.apache.org/docs/2.2/mod/mod_proxy.html>Mod Proxy</a> in Apache.</p><p>Here I will demonstrate configuration of a reverse proxy which according to the <a href=http://en.wikipedia.org/wiki/Reverse_proxy>definition</a> is</p><blockquote><p><strong>Reverse proxy</strong> is a type of <a href=http://en.wikipedia.org/wiki/Proxy_server>proxy server</a> that retrieves resources on behalf of a <a href=http://en.wikipedia.org/wiki/Client_%28computing%29>client</a> from one or more <a href=http://en.wikipedia.org/wiki/Server_%28computing%29>servers</a>. A general use case to configure such proxies could be to handle cross domain Ajax requests, so basically if I would like to call a service hosted as <a href=http://anotherdomain.com/service>http://anotherdomain.com/service</a> from <a href=http://localdomain/service>http://localdomain/service</a> I would need to configure a proxy which will request resources from anotherdomain.com/service on behalf of localdomain ### Configuration</p></blockquote><p><strong>STEP 1:</strong> To set up a rule click on the web application from the sites tree on the left and then click on the URL Rewrite module, then form the command pallete on the right hand click on Add Rule as shown in image below.<br><a href=http://varunpant.com/static/resources/add_rule_18.png><img src=http://varunpant.com/static/resources/add_rule_thumb_8.png alt=add_rule title=add_rule></a><br><strong>STEP 2:</strong> From the add rule dialog choose reverse proxy template<br><a href=http://varunpant.com/static/resources/reverse_proxy_template_12.png><img src=http://varunpant.com/static/resources/reverse_proxy_template_12.png alt=reverse_proxy_template title=reverse_proxy_template></a></p><p>Configure Inbound Rules window and provide server name as shown in screen shot below</p><p><a href=http://varunpant.com/static/resources/image_2.png><img src=http://varunpant.com/static/resources/image_configureproxyurl.png alt></a></p><p>Finally configure the last form, this is where one can specify cache parameters and override server header variables, such as basic authentication (http_authorisation) etc.</p><p><a href=http://varunpant.com/static/resources/image_4.png><img src=http://varunpant.com/static/resources/last_page_proxy.png alt=image></a></p><p>In the patterns text box entering something like ^/service(.*) will trap all requests going to <a href=http://localdomain/service>http://localdomain/service</a> and they will be proxyed as if the requests were made like <a href=http://anotherdomain.com/service>http://anotherdomain.com/service</a> , The query strings if present are also carried forward, all these settings and modification are preserved in web.config of the web application, under tag. The rules after configuration look like</p><pre tabindex=0><code>&lt;rewrite&gt;
   &lt;rules&gt;
       &lt;rule stopprocessing=&#34;true&#34; name=&#34;ReverseProxyInboundRule1&#34;&gt;
           &lt;match url=&#34;^service/(.*)&#34; /&gt;
           &lt;action url=&#34;http://anotherdomain.com/service{R:1}&#34; type=&#34;Rewrite&#34; /&gt;
           &lt;servervariables /&gt;
       &lt;/rule&gt;
   &lt;/rules&gt;
&lt;/rewrite&gt;
</code></pre></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://varunpant.com/posts/embedding-flash-quicktime-windows-media-silverlight-or-html5-video/><span class=button__icon>←</span>
<span class=button__text>Embedding Flash,Quicktime,Windows Media,Silverlight or HTML5 Video</span>
</a></span><span class="button next"><a href=https://varunpant.com/posts/signing-android-release-apk-from-the-command-line-via-ant/><span class=button__text>Signing android release apk from the command line (via ant)</span>
<span class=button__icon>→</span></a></span></div></div><div id=blog-comments><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//varunpant.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></article></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span><span class=logo__text>Varun Pant</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span><a href=https://github.com/panr/hugo-theme-hello-friend target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script><section><div class=advert id=ta2><script type=text/javascript>google_ad_client="ca-pub-1110730152886910",google_ad_slot="1639236970",google_ad_width=728,google_ad_height=90</script><script type=text/javascript src=//pagead2.googlesyndication.com/pagead/show_ads.js></script></div></section><script id=dsq-count-scr src=//varunpant.disqus.com/count.js async></script></div></body></html>