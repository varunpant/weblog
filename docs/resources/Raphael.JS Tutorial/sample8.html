<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
	<meta http-equiv="refresh" content="3">
    <meta name="author" content="varun pant">
    <meta name="google-site-verification" content="yu9tlev9-FkUUc0UkPrKP-8ren886--1FcSINU0TJDY" />
    <meta name="msvalidate.01" content="B96ED99B0213B547253C91D27272A5E4" />
    <meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=varunpant.myopenid.com" />
    <title>Raphael sample</title>
    <script src="raphael.js"></script>
    <style>
        body {
            margin: 0px;
            padding: 0px;
        }
        #canvas {
            width: 250px;
            height: 250px;
            margin: 0px;
            padding: 0px;
            background-color: #F2F2F2;
        }
    </style>
    <script>
        var canvas;
        window.onload = function () {
            // Creates canvas 250 × 300 at 0, 0
            canvas = Raphael(0, 0, 250, 270);
            DrawBars({
                "56%": 56,
                "28%": 28,
                "15%": 15,
                "01%": 1,
            });
        };
        var DrawBars = function (data) {
            var vals = [];
            var labels = [];
            for (var key in data) {
                labels.push(key);
                vals.push(Number(data[key]));
            }
            var startingY = 55;
            var totalHeight = 60;
            var verticalGap = 8;
            var Height1 = Math.round(vals[0] / 100 * totalHeight);
            var Height2 = Math.round(vals[1] / 100 * totalHeight);
            var Height3 = Math.round(vals[2] / 100 * totalHeight);
            var Height4 = Math.round(vals[3] / 100 * totalHeight);

            //Cube 4		 
            drawCube((startingY + Height1 + Height2 + Height3 + (verticalGap * 3)), Height4, canvas, "#BBE6FB", "#89D7f8", "#39C8F4", labels[3]);
            //Cube 3		 
            drawCube((startingY + Height1 + Height2 + (verticalGap * 2)), Height3, canvas, "#3FC8F4", "#0CB5EB", "#0094DA", labels[2]);
            //Cube 2		 
            drawCube((startingY + Height1 + (verticalGap * 1)), Height2, canvas, "#2A80B8", "#0269A6", "#003F84", "28% Android", labels[1]);
            //Cube 1		 
            drawCube(startingY, Height1, canvas, "#7F8184", "#575759", "#221E1F", labels[0]);

        }

        var drawCube = function (y, height, paper, f1, f2, f3, label) {
            var rect1 = paper.path("M 0 " + y + " 57 " + (y + 22) + " 188 " + y + " 127 " + (y - 16) + " 0 " + y);
            rect1.attr({
                fill: f1,
                stroke: f1,
                'stroke-width': 0
            });

             
            var rect2 = paper.path("M 0 " + y + " 0 " + y + " 57 " + (y + 0 + 22) + " 57 " + (y + 22) + " 0 " + y);
            rect2.attr({
                fill: f2,
                stroke: f2,
                'stroke-width': 0
            });
            rect2.animate({
                path: "M 0 " + y + " 0 " + (y + height) + " 57 " + (y + height + 22) + " 57 " + (y + 22) + " 0 " + y
            }, 1000);

           
            var rect3 = paper.path("M 57 " + y + " 57 " + (y + 22) + " 188 " + (y) + " 188 " + y + " 57 " + (y + 22));
            rect3.attr({
                fill: f3,
                stroke: f3,
                'stroke-width': 0
            });
            rect3.animate({
                path: "M 57 " + (y + 22) + " 57 " + (y + height + 22) + " 188 " + (y + height) + " 188 " + y + " 57 " + (y + 22)
            }, 1000, function () {
                var labely = y + height / 2;
                var label1 = paper.path("M 188 " + labely + " 226 " + labely)
                label1.attr({
                    stroke: "#000",
                    'stroke-width': 1
                });
                var text = paper.text(226, labely, label);
                text.attr({
                    "text-anchor": "start",
                    'font-size': 12,
                    "font-family": "arial",
                    "fill": "#000"
                });
            });



        }
    </script>
</head>

<body>

    <div id="canvas"></div>

</body>

</html>
